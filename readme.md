# readmeという名のメモ帳

# スキル案件マッチングシステム

エンジニア向けの案件マッチングサービス。スキルシートや条件をチャットで投げると、複数のフリーランスサイトから適した案件を探す。

## 概要

フリーランスサイトに散らばっている案件情報を一箇所でまとめて検索する。Gemini APIを使ってスキル情報を解析し、適切な案件を提案する。

現在対応しているサイト：
- freelance-start.com
- crowdworks.jp
- lancers.jp

## 主な機能

### チャット機能
シンプルなチャットUIでスキル情報を入力する。「Java3年」と入力すると、AIが解析して案件を探す。

### 案件検索
入力されたスキルを元に、DBから関連する案件を検索する。複数の案件を一度に表示し、元のサイトへのリンクも含む。

### AI解析
Gemini APIを使ってスキルシートを解析。スキルセットと狙える単価を判定する。
Gemini APIに限界が来たので、無料でChatGPTが使えるAPIがある。GPT-3.5だけどまぁよしとする。

## 使用技術

### フロントエンド
- React 18 + TypeScript
- TailwindCSS（スタイリング）  
- Create React App（ビルド）

### バックエンド
- Go 1.24
- Ginフレームワーク
- AWS		（すべてのDBで公式ドキュメントの手順書通り実行したが上手くいかなかった。）
- GCP		（接続はできたが上限が来たので別の代替案を考える。）
- Neon		（無料ではあったものの近所のリージョンがシンガポールなので速度が遅い。。。無料なのに）
- Supabase	（PostgreSQLでバッチ処理もできて無料枠もかなりある。これが良いぞぉ）
- Gemini API	（無料枠だが上限が来てしまった。。。。悲しい気分）
- OPENROUTER	（無料枠も多いがgpt3.5であるのが懸念点ではある。）

### インフラ
- Docker + Docker Compose（フロントとバックをどうやって同時に実行するか検索したらドッカーがベストらしい。というか使えないとエンジニアではないみたいな過激なテック系のYoutubeも見てしまった。今までの現場で使ってんのみたことないけどなと思った。業務系だからか）
- Supabase（PostgreSQLホスティング）

## プロジェクト構成

```
anken_match/
├── Backend/
│   ├── Dockerfile
│   ├── go.mod
│   ├── go.sum
│   ├── temp.go
│   ├── all.go
│   ├── db.go
│   └── chat.go
├── Frontend/
│   ├── node_modules/
│   ├── public/
│   │   └── index.html
│   ├── src/
│   │   ├── components/
│   │   │   ├── all.tsx	# 案件一覧
│   │   │   ├── temp.tsx	# テンプレート
│   │   │   └── chat.tsx	# チャットコンポーネント
│   │   ├── index.tsx
│   │   └── index.css
│   ├── Dockerfile
│   ├── package.json
│   └── tsconfig.json
├── 日次/
│   ├── cron.sql	# 日次登録
│   └── index.ts	# 日次処理
├── .env
└── docker-compose.yml
```

## セットアップ手順

### 必要なもの

- Docker、Docker Compose
- OPENROUTER キー
- Go 1.24
- Node.js 18

### インストール

1. リポジトリをクローン

```bash
git clone <repository-url>
cd anken_match
```

2. 環境変数を設定

プロジェクトルートに`.env`ファイルを作成：

```env
# Gemini API
GEMINI_API_KEY=AIzaSyCC4SlnDLNHCXQMnKFOgHPsk-AfQ1xZ6Es

# Supabase
user=postgres.yhkbewmgnufijsikruio
password=anken_match123
host=aws-1-ap-northeast-1.pooler.supabase.com
port=6543
dbname=postgres
```

3. Dockerで起動

```bash
# ビルドして起動
docker-compose up --build

# バックグラウンドで動かす場合
docker-compose up -d
```

4. ブラウザでアクセス

- フロントエンド: http://localhost:3000
- API: http://localhost:8080

### Dockerを使わない

バックエンド：
```bash
cd Backend
go mod download
go run chat.go
```

フロントエンド：
```bash
cd Frontend
npm install
npm start
```

## 使い方

1. http://localhost:3000 を開く

2. チャット欄にスキル情報を入力
   - 例: 「Java言語を3年、TypeScriptを2年。バックエンド開発メインで、月80〜100万円の案件希望」

3. 送信するとAIが解析開始
   - スキル、経験年数、希望単価を抽出

4. マッチした案件を表示
   - 案件カードから詳細確認
   - 「詳細を見る」から元サイトへ

## データベース

### 接続情報

Supabaseの無料枠を使用。接続情報は`.env`ファイルに記載。

### TBL_PROJECTテーブル

案件情報を格納するテーブル：

作成SQL：
```sql
create table public.tbl_project (
  prourl text not null,	-- URL
  prottl text not null,	-- 案件名
  prodtl text null,	-- 詳細
  proprc text null,	-- 単価
  proprd text null,	-- 期間
  proot1 text null,	-- その他1 (スキル)
  proot2 text null,	-- その他2 (その他)
  proot3 text null,	-- その他3 (予備)
  prostn text not null,	-- 登録日時
  procrt timestamp with time zone null default now(),
  constraint tbl_project_pkey primary key (prourl)
) TABLESPACE pg_default;
);
```

サンプルデータ
```md
| prourl                                          | prottl                                         | prodtl                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | proprc                         | proprd | proot1                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | proot2                                                                                                                                                                                                                                                                                                                                                                                                                                           | proot3 | prostn              | procrt                        |
| ----------------------------------------------- | ---------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------ | ------------------- | ----------------------------- |
| https://crowdworks.jp/public/jobs/12566684      | FXのロジック開発・販売（MT5用のEA開発or販売依頼）                  | ### 仕事の詳細
MT5にて使用可能なEAの販売（開発）が可能な方を募集しております。※以前当方の別案件にご応募いただいた方も、気兼ねなく再度ご応募いただいて問題ございません。■依頼内容依頼内容は、既存EAの販売となります（同時に新規でEA開発も検討中）。ーーーーーソースコードの販売：お持ちのEAで使っていないもの等があれば販売していただきたいです。バックテスト等を確認させていただき、当方の欲しいものとマッチすれば二次利用可能な形でソースコードを買い取り希望です。（通貨ペア・時間足・ロジック等問わずどんなものでもご相談ください。BTの結果を参考に複数EAを買い取り予定です。）ーーーーー■報酬極力ワーカー様のご希望に添える形でと考えております。予算感としては1EAにつき5～20万円ほどを想定しており、複数のソースコードを買い取り予定です。（※お持ちのEAのバックテスト等を確認させていただいた上で、最終金額を相談して決められたらと考えております。）■歓迎する方・複数EAをお持ちの方・今までFX用のロジック・EA開発の実績がある方・比較的早い納期での対応が可能な方・レスポンスが早く、最低限のソフトスキルをお持ちの方■応募フォームご興味をお持ちいただけましたら、下記内容をご記載いただいた上でご応募ください。ーーーーー①簡単な自己紹介②お持ちのEAの基本的な仕様を簡単にご説明ください。例プラットフォーム：MT4対応通貨ペア：USDJPY対応時間足：M5特徴：2種類のロジックを搭載しており、長期運用向けのEAです。③ご希望金額（予算感としては1EAにつき5～20万円ほどを想定しており、複数のソースコードを買い取り予定です。）ーーーー■お取引完了までの流れについて①ご応募いただいたEAに興味がありましたらこちらからご連絡をさせていただきます。②契約、仮払いの後ex5fileをお送りいただきます。（お送りいただく際は使用期限や口座縛りをつけていただく形で考えております）③バックテストデータを確認させていただきます。④問題なければmqlfileをお送りいただき、納品・完了処理を実施。■最後に継続的にシステム開発を予定していますので、Win-winな関係で長期的にお付き合いできる方の募集をお待ちしています！ご興味がある方はお気軽にご連絡ください！ | ### 固定報酬制
ワーカーと相談する            |        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ### 納品希望日
-

### 掲載日
2025年10月16日

### 応募期限
2025年10月30日                                                                                                                                                                                                                                                                                                                                                                                           |        | crowdworks.jp       | 2025-10-27 04:50:52.630052+00 |
| https://crowdworks.jp/public/jobs/12573367      | サーバーサイド保守・追加開発                                 | ### 仕事の詳細
【概要】 CMSを利用して作成している複数のサイト開発になります。 既に運用しているサイトの保守のためご参画以降、継続を予定しています。 現状、1ヶ月に１度程度の頻度でリリースをしています。 フロントエンドは別働隊がいるため、サーバーサイドを主に担当していただきます。 自社パッケージのCMSを利用しての開発になります。 【担当工程】 ・コードレビュー ・詳細設計や実装方針の決定 ・既存コードのリファクタリング ・View,Controller,Modelの既存バグを修正する作業 ・フロントエンドのコーダーが作ったマークアップをViewへ組み込む作業 詳細設計～実装を担当頂きます。 【必要スキル】 ・PHPのWebフレームワークの使用経験 ・MVCの理 ・オブジェクト指向の概念の理解とクラス設計の経験 ・基本的なUNIXコマンド実行の経験 ・vi,vimの使用経験 ・基本的なGitコマンド実行の経験 ・仮想環境へのSSH接続の経験 ・MacOSの使用経験 【勤務詳細】 ・月曜～金曜 9:00～17:00 【報酬】 ・４０万円～６０万円 【必須条件】 ・メインの案件として対応可能な方 ・上記条件で対応可能な方 フリーランスの方のご応募お待ちしております！ 弊社と共に今お持ちのスキルをより一層高めながら末永くお付き合いできれば幸いです。                                                                                                                                                                                                                                                                                                                                                                                                              | ### 固定報酬制
400,000円 〜 500,000円  |        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ### 納品希望日
-

### 掲載日
2025年10月18日

### 応募期限
2025年11月01日                                                                                                                                                                                                                                                                                                                                                                                           |        | crowdworks.jp       | 2025-10-27 04:50:52.630052+00 |
| https://freelance-start.com/jobs/detail/1536580 | PHP／大手エンタメ企業のバックエンドエンジニア案件・求人のフリーランスエンジニア求人・案件 | ### 職務内容
【業務内容】 ・PHP（Laravel）で構築されているサイトの改修業務に携わっていただきます。 PHP【業務内容】 ・PHP（Laravel）で構築されているサイトの改修業務に携わっていただきます。 PHP

### 案件詳細
最寄り駅六本木一丁目駅支払周期翌月25日支払い商談回数その他 / オンライン最寄り駅六本木一丁目駅支払周期翌月25日支払い商談回数その他 / オンライン                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                |        | ### 必須スキル・歓迎スキル
必須スキルPHP（Laravel）での開発経験7年以上`JavaScriptでの開発経験5年以上`PHPUnitに代表されるユニットテストツールの経験コードレビュー経験Dockerの実務利用経験CI/CDツール（Jenkins等）の実務利用経験歓迎スキルDDDのご経験`クリーンアーキテクチャ/オニオンアーキテクチャ等での開発経験`テスト仕様書の作成＆テスト実施のご経験中規模以上（数十万レコード以上）のサービス開発経験パフォーマンスチューニングの経験必須スキルPHP（Laravel）での開発経験7年以上`JavaScriptでの開発経験5年以上`PHPUnitに代表されるユニットテストツールの経験コードレビュー経験Dockerの実務利用経験CI/CDツール（Jenkins等）の実務利用経験歓迎スキルDDDのご経験`クリーンアーキテクチャ/オニオンアーキテクチャ等での開発経験`テスト仕様書の作成＆テスト実施のご経験中規模以上（数十万レコード以上）のサービス開発経験パフォーマンスチューニングの経験 | ### 開発環境・言語
PHPLaravelDockerDockerPHPUnitPHPUnitJenkinsJenkinsJavaScriptDockerPHPUnitJenkins

### 担当者の言葉
エージェント：ギークスジョブ(GEECHS JOB)案件の特徴:安定稼働,最新技術,高単価,ベテラン歓迎,若手歓迎エージェント：ギークスジョブ(GEECHS JOB)案件の特徴:安定稼働,最新技術,高単価,ベテラン歓迎,若手歓迎

### エージェント情報
エージェント名ギークスジョブ(GEECHS JOB)エージェント名ギークスジョブ(GEECHS JOB)特徴高単価案件/業界10年以上/週5案件/週3案件/関西案件あり/福岡案件あり/上場企業特徴高単価案件/業界10年以上/週5案件/週3案件/関西案件あり/福岡案件あり/上場企業支払いサイト25日（月末締め翌月25日支払い）支払いサイト25日（月末締め翌月25日支払い）手数料非公開手数料非公開 |        | freelance-start.com | 2025-10-27 04:51:08.197719+00 |
| https://freelance-start.com/jobs/detail/1536581 | PHP／大手エンタメ企業のバックエンドエンジニア案件・求人のフリーランスエンジニア求人・案件 | ### 職務内容
【業務内容】 ・PHP（Laravel）で構築されているサイトの改修業務に携わっていただきます。 PHP【業務内容】 ・PHP（Laravel）で構築されているサイトの改修業務に携わっていただきます。 PHP

### 案件詳細
最寄り駅六本木一丁目駅支払周期翌月25日支払い商談回数その他 / オンライン最寄り駅六本木一丁目駅支払周期翌月25日支払い商談回数その他 / オンライン                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                |        | ### 必須スキル・歓迎スキル
必須スキルPHP（Laravel）での開発経験7年以上`JavaScriptでの開発経験5年以上`PHPUnitに代表されるユニットテストツールの経験コードレビュー経験Dockerの実務利用経験CI/CDツール（Jenkins等）の実務利用経験歓迎スキルDDDのご経験`クリーンアーキテクチャ/オニオンアーキテクチャ等での開発経験`テスト仕様書の作成＆テスト実施のご経験中規模以上（数十万レコード以上）のサービス開発経験パフォーマンスチューニングの経験必須スキルPHP（Laravel）での開発経験7年以上`JavaScriptでの開発経験5年以上`PHPUnitに代表されるユニットテストツールの経験コードレビュー経験Dockerの実務利用経験CI/CDツール（Jenkins等）の実務利用経験歓迎スキルDDDのご経験`クリーンアーキテクチャ/オニオンアーキテクチャ等での開発経験`テスト仕様書の作成＆テスト実施のご経験中規模以上（数十万レコード以上）のサービス開発経験パフォーマンスチューニングの経験 | ### 開発環境・言語
PHPLaravelDockerDockerPHPUnitPHPUnitJenkinsJenkinsJavaScriptDockerPHPUnitJenkins

### 担当者の言葉
エージェント：ギークスジョブ(GEECHS JOB)案件の特徴:安定稼働,最新技術,高単価,ベテラン歓迎,若手歓迎エージェント：ギークスジョブ(GEECHS JOB)案件の特徴:安定稼働,最新技術,高単価,ベテラン歓迎,若手歓迎

### エージェント情報
エージェント名ギークスジョブ(GEECHS JOB)エージェント名ギークスジョブ(GEECHS JOB)特徴高単価案件/業界10年以上/週5案件/週3案件/関西案件あり/福岡案件あり/上場企業特徴高単価案件/業界10年以上/週5案件/週3案件/関西案件あり/福岡案件あり/上場企業支払いサイト25日（月末締め翌月25日支払い）支払いサイト25日（月末締め翌月25日支払い）手数料非公開手数料非公開 |        | freelance-start.com | 2025-10-27 04:51:08.197719+00 |
| https://www.lancers.jp/work/detail/5341051      | 2回目 〖リモート可〗Delphiエンジニア募集                       | ### 依頼概要
POSシステム ✕ ハンディ端末 連携強化プロジェクト 名古屋で対面 MTG にも参加できる方歓迎 / 報酬目安 35〜45万円（税抜・スキルに応じ応相談） 1. プロジェクト概要 既存 POS アプリとハンディ端末（バーコードスキャン・在庫更新等）の連携を刷新し、運用現場の業務効率を大幅に向上させる開発を行います。要件定義段階から携わり、設計・実装・小規模 PoC までワンストップで進められるアジャイル体制です。 2. 業務内容 • 既存 Delphi コードのリファクタリング & 機能追加 • 端末⇔POS の通信仕様策定・実装 • FireDAC 等 DB アクセス層の最適化 • テスト自動化・パフォーマンスチューニング • 小規模トライアルタスクから着手し、継続契約を想定 3. 必須 / 歓迎スキル 区分 スキル例 必須 ・Delphi(Object Pascal) 業務開発経験・日本語での技術コミュニケーション・セルフマネジメント & リモート報告スキル 歓迎 ・POS／業務アプリ実装経験・ハンディ端末やシリアル通信知識・要件定義／業務フロー設計経験・InterBase 等 DB 操作経験 4. 契約条件 項目 内容 報酬レンジ 35〜45万円（固定 or 時給換算も可・スキルに応じ応相談） 稼働形態 原則リモート（名古屋オフィスでの対面 MTG あり） 稼働目安 週 10〜20 時間（柔軟に調整可） 試用 1 スプリント（約 2 週間）のタスクベーストライアル 5. 応募時にご提出いただきたい情報 1. Delphi 実績（プロジェクト名・期間・担当範囲） 2. POS／ハンディ端末など関連経験 3. 稼働可能曜日・時間帯 4. 希望報酬＆参加可能な期間 5. 名古屋での対面打合せ可否（頻度目安：月1〜2回） 6. 私たちが提供するもの • 既存コード & 端末仕様書一式 • アジャイル環境（Git / タスク管理 / CI） • 名古屋駅近オフィスのミーティングスペース • 中長期でスキルを発揮できる継続案件パイプライン 7. 選考フロー 1. 書類選考（応募内容確認） 2. オンライン面談（30 分） 3. トライアルタスク実施 4. 契約確定・キックオフ                     | ### 提示した予算
300,000円 ~ 500,000円 |        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ### 依頼主の業種
IT・通信・インターネット                                                                                                                                                                                                                                                                                                                                                                                                                         |        | lancers.jp          | 2025-10-27 12:00:13.017518+00 |
| https://www.lancers.jp/work/detail/5421561      | 【急募】PDF見積書をExcel注文書に変換するシステム開発                 | ### 依頼概要
【依頼概要】 【業務内容】 ・外注先から提供されるPDF形式の見積書を、自社で使用するExcelまたはPDF形式の注文書へ変換するツール、またはシステムを製作していただきます。 【必須条件】 ・Excel VBA、Python、または類似のプログラミング言語を用いた開発経験がある方。 ・PDFファイルのデータ抽出、変換に関する知識または経験がある方。 【歓迎条件】 ・大量のPDFファイルを効率的に処理する技術をお持ちの方。 ・OCR技術を利用した開発経験がある方。 ・業務効率化、自動化ツールの開発経験がある方。 【サイトの種類】 マッチングサイト 【依頼したい業務範囲】 開発 テスト 【用意しているもの】 特になし 【希望するスキル】 Python Excel VBA 【継続した開発が必要か】 今回のみ依頼したい 【参考サイトのURL】 なし 【依頼先選びで重視する点】 なし                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | ### 提示した予算
100,000円 ~ 200,000円 |        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ### 依頼主の業種
IT・通信・インターネット                                                                                                                                                                                                                                                                                                                                                                                                                         |        | lancers.jp          | 2025-10-28 12:00:15.408157+00 |
```

## Gemini API連携

### SDKインストール

Google公式ドキュメントより転載

```bash
go get google.golang.org/genai
```

### 基本的な使い方

```go
package main

import (
    "context"
    "fmt"
    "log"
    "google.golang.org/genai"
)

func main() {
    ctx := context.Background()
    // 環境変数からAPIキーを自動で読み込む
    client, err := genai.NewClient(ctx, nil)
    if err != nil {
        log.Fatal(err)
    }

    result, err := client.Models.GenerateContent(
        ctx,
        "gemini-2.5-flash",
        genai.Text("Explain how AI works in a few words"),
        nil,
    )
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println(result.Text())
}
```

### 思考機能について（コスト削減）

Gemini 2.5シリーズには「思考機能」がある。深い推論が必要ない場合は、以下のように無効化してコストを抑える：

```go
result, err := client.Models.GenerateContent(
    ctx,
    "gemini-2.5-flash",
    genai.Text("質問内容"),
    &genai.GenerateContentConfig{
        ThinkingConfig: &genai.ThinkingConfig{
            ThinkingBudget: int32(0), // 0にすると思考機能OFF
        },
    }
)
```

※ Gemini 2.5 Proは思考機能を無効にできない。コスト重視ならFlashを使う。

### AIによるスキル解析

Geminiで以下の解析を実行する：
- スキルから狙える月額単価の推定
- 得意分野と今後の方向性の分析
- 最適な案件のマッチング
- スキルシートの構造化

## API仕様

### POST /api/chat

チャットメッセージを送信して案件を取得

リクエスト:
```json
{
  "message": "Java3年の経験"
}
```

レスポンス:
```json
{
  "ai_analysis": {
    "estimated_salary": "月額85万円〜105万円",
    "strengths": "Javaを用いたバックエンド開発、特にAPI設計と実装に強みがあります。TypeScriptの経験もあり、フロントエンドとの連携もスムーズに行えるスキルをお持ちです。",
    "suggestions": "今後はクラウド（AWS/GCP）関連の知識を深めることで、より高単価なインフラ構築案件も視野に入れることができます。",
    "structured_skills": [
      {
        "skill_name": "Java",
        "experience_years": 3
      },
      {
        "skill_name": "TypeScript",
        "experience_years": 2
      }
    ]
  },
  "projects": [
    {
      "url": "https://freelance-start.com/jobs/detail/1536580",
      "title": "PHP／大手エンタメ企業のバックエンドエンジニア案件",
      "detail": "【業務内容】 ・PHP（Laravel）で構築されているサイトの改修業務に携わっていただきます...",
      "price": "〜90万円/月",
      "period": "即日〜長期",
      "skills": "PHP, Laravel, JavaScript, Docker, Jenkins",
      "source": "freelance-start.com",
      "posted_at": "2025-10-27T04:51:08Z"
    },
    {
      "url": "https://crowdworks.jp/public/jobs/12573367",
      "title": "サーバーサイド保守・追加開発",
      "detail": "【概要】 CMSを利用して作成している複数のサイト開発になります...",
      "price": "400,000円 〜 500,000円",
      "period": "",
      "skills": "PHP, MVC, Git, Docker",
      "source": "crowdworks.jp",
      "posted_at": "2025-10-27T04:50:52Z"
    }
  ]
}
```

### GET /api/health

死活監視用

```json
{
  "status": "ok"
}
```

## 日次バッチ処理

毎日12:00に各サイトから新着案件を取得してDBに登録する。index.tsをcronに登録して日時処理を行う。

### UI
- モバイルでも使えるようレスポンス対応したい。